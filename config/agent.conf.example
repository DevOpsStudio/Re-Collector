// Graylog Agent example configuration.

message-buffer-size = 128

// The id used to identify this agent. Can be either a string which is used as id,
// or the location of a file if prefixed with "file:". If the file does not exist,
// an id will be generated and written to that file. If it exists, it is expected
// to contain a single string without spaces which will be used for the id.
// Defaults to "file:config/agent-id" if not specified.

agent-id = "file:/path/to/agent-id"

metrics {
  enable-logging = false
  log-duration = "60s"
}

inputs {
  local-syslog {
    type = "file"
    path = "/var/log/syslog"
  }
  apache-access {
    type = "file"
    path = "/var/log/apache2/access.log"
    outputs = "gelf-tcp,console"
  }
  test-log {
    type = "file"
    path = "logs/file.log"
  }
}

outputs {
  gelf-tcp {
    type = "gelf"
    protocol = "tcp"
    host = "127.0.0.1"
    port = 12201
    client-tls = false
    client-tls-cert-chain-file = "/path/to/cert-chain.pem"
    client-tls-verify-cert = true
    client-queue-size = 512
    client-connect-timeout = 5000
    client-reconnect-delay = 1000
    client-tcp-no-delay = true
    client-send-buffer-size = 32768
    inputs = "test-log"
  }
  console {
    type = "stdout"
  }
}
